# Introdução: Os Blocos de Construção

No Capítulo 1, estabelecemos que o MATLAB é um "Laboratório de Matrizes". Agora, vamos aprender a construir e manipular os blocos fundamentais deste laboratório: as variáveis e as matrizes. Dominar a sintaxe de criação, acesso e modificação destes elementos é o passo mais importante para se tornar proficiente na linguagem, sendo um conhecimento indispensável para a sua prova.

# Criação e Inicialização de Variáveis

Uma variável é um espaço na memória do computador ao qual damos um nome para armazenar um valor. Se você tem experiência com Java, está acostumado a um sistema de tipagem estática, onde é preciso declarar o tipo de dado de uma variável antes de usá-la (ex: `int numero = 10;`). O MATLAB, de forma semelhante ao Python e JavaScript, adota um sistema de **tipagem dinâmica**. Isso significa que você não precisa declarar o tipo; ele é inferido automaticamente no momento em que você atribui um valor à variável.

A criação é feita com o operador de atribuição `=`.

```matlab
% Variável numérica (por padrão, MATLAB usa o tipo 'double', 
% que é um número de ponto flutuante de dupla precisão)
idade = 25;

% Variável de texto (tecnicamente, um 'array de caracteres')
% Note o uso de aspas simples, que é a convenção padrão.
nome_aluno = 'Ana Carolina';

% Variável lógica (booleana), que pode ser 'true' ou 'false'
aprovado = true;
```

As regras para nomear variáveis são simples:

- Devem começar com uma letra.
- Após a primeira letra, podem conter letras, números e o caractere de sublinhado (`_`).
- O MATLAB diferencia maiúsculas de minúsculas (`A` e `a` são variáveis diferentes).

Lembre-se da dica do capítulo anterior: se você terminar uma linha com um ponto e vírgula (`;`), o MATLAB executa o comando, mas não exibe o resultado na *Command Window*. Isso é essencial para manter seu código limpo, especialmente dentro de scripts.

# Matrizes: A Essência do MATLAB

Como já mencionado, no MATLAB, tudo é uma matriz. Um escalar como `idade = 25` é, para o MATLAB, uma matriz de dimensão 1x1. Um texto é um vetor (matriz 1xN) de caracteres. Vamos focar em como construir matrizes numéricas, que são as mais comuns.

## Construindo Vetores e Matrizes

A sintaxe é concisa e poderosa:

- Use colchetes `[ ]` para iniciar e terminar a definição da matriz.
- Use **espaços** ou **vírgulas (`,`)** para separar elementos na mesma linha (colunas).
- Use **ponto e vírgula (`;`)** para indicar o fim de uma linha e o começo de uma nova.

```matlab
% Exemplo de um vetor linha (uma matriz de 1 linha e 4 colunas, ou 1x4)
A = [5 10 15 20];

% Exemplo de um vetor coluna (uma matriz de 3 linhas e 1 coluna, ou 3x1)
B = [5; 10; 15];

% Exemplo de uma matriz 2x3 (2 linhas e 3 colunas)
C = [1, 2, 3; 4, 5, 6];
```

## Indexação e Submatrizes: Acessando Dados

Uma vez que a matriz está criada, você precisará acessar ou modificar seus elementos. Para isso, usamos parênteses `( )`.

**Atenção:** Este é talvez o ponto de maior atenção para quem vem de linguagens como C, Java, Python ou JavaScript, onde a indexação começa em 0. **No MATLAB, a indexação de todos os arrays e matrizes começa em 1.**

- **Acessando um único elemento:** `nome_da_matriz(indice_linha, indice_coluna)`
- **O operador dois-pontos (`:`)**: Este operador é extremamente versátil e é usado para criar sequências e selecionar intervalos.
    - `inicio:fim` cria um vetor com todos os inteiros de `inicio` até `fim`. Ex: `1:5` gera `[1 2 3 4 5]`.
    - Usado na indexação, `:` sozinho significa "todos os elementos daquela dimensão".
- **A palavra-chave `end`**: Refere-se ao último índice de uma dimensão, tornando o código mais flexível.

Vamos ver na prática com a matriz `C` que criamos: `C = [1 2 3; 4 5 6];`

```matlab
% Acessando o elemento na primeira linha, terceira coluna (o valor 3)
elemento_1_3 = C(1, 3); % Resultado: 3

% Acessando o elemento na segunda linha, primeira coluna (o valor 4)
elemento_2_1 = C(2, 1); % Resultado: 4

% Extraindo a primeira linha inteira
linha_1 = C(1, :);      % Resultado: [1 2 3]

% Extraindo a segunda coluna inteira
coluna_2 = C(:, 2);     % Resultado: [2; 5] (um vetor coluna)

% Extraindo uma submatriz com as colunas 2 e 3 da primeira linha
submatriz = C(1, 2:3);  % Resultado: [2 3]

% Usando a palavra-chave 'end' para pegar o último elemento da segunda linha
ultimo_elemento = C(2, end); % Resultado: 6
```

## Matrizes Multidimensionais

O MATLAB não está limitado a matrizes 2D. Você pode criar arrays com 3 ou mais dimensões. Pense em uma imagem colorida: ela pode ser representada como uma matriz 3D, onde as duas primeiras dimensões são as coordenadas (altura e largura em pixels) e a terceira dimensão representa os canais de cor (Vermelho, Verde, Azul - RGB). A indexação é uma extensão natural: `matriz(linha, coluna, pagina)`.

```matlab
% Criando uma matriz 3D de zeros de tamanho 2x2x2
M_3D = zeros(2, 2, 2);

% Atribuindo um valor ao elemento na primeira linha, segunda coluna, primeira "página"
M_3D(1, 2, 1) = 99;
```

# Constantes e Valores Especiais

O MATLAB já vem com certas constantes e valores especiais pré-definidos. Os mais importantes são:

- `pi`: O valor da constante matemática π (3.1415...).
- `i` ou `j`: A unidade imaginária −1, usada para números complexos. Ex: `z = 3 + 4i`.

  [](data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.08em" viewBox="0 0 400000 1080" preserveAspectRatio="xMinYMin slice"><path d="M95,702
  c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
  c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
  c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
  s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
  c69,-144,104.5,-217.7,106.5,-221
  l0 -0
  c5.3,-9.3,12,-14,20,-14
  H400000v40H845.2724
  s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
  c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
  M834 80h400000v40h-400000z"></path></svg>)

- `Inf`: Representa o infinito, geralmente o resultado de uma divisão por zero (ex: `1/0`).
- `NaN`: Significa *Not-a-Number* (Não é um Número). É o resultado de operações matematicamente indefinidas (ex: `0/0` ou `Inf - Inf`).
- `eps`: É a precisão da máquina, a distância entre 1.0 e o próximo maior número de ponto flutuante representável. É útil em cálculos numéricos para evitar divisões por números muito pequenos.

# Controle da Saída e Interação com Arquivos

## Exibindo Dados na Tela

Vimos que omitir o `;` exibe o resultado de uma operação. Para um controle mais explícito, temos duas funções principais:

1. `disp(variavel)`: Exibe o conteúdo de uma variável na *Command Window*, sem imprimir o nome da variável. É simples e direto.
2. `fprintf(formato, variaveis...)`: Usada para exibir texto formatado, de forma muito similar à função `printf` da linguagem C. É poderosa para criar relatórios e saídas personalizadas.

```matlab
nome = 'Joaquim';
nota = 8.5;
idade = 22;

% Usando disp
disp('Relatório do Aluno:');
disp(nome);
disp(nota);

% Usando fprintf para um resultado mais compacto e formatado
% %s: marcador para string
% %d: marcador para inteiro
% %.2f: marcador para número de ponto flutuante com 2 casas decimais
% \n: caractere para pular uma linha
fprintf('O aluno %s, de %d anos, obteve a nota %.2f.\n', nome, idade, nota);
```

## Salvando e Carregando Dados

Frequentemente, você vai querer salvar as variáveis do seu *Workspace* para usá-las mais tarde. O MATLAB utiliza um formato binário próprio, os arquivos `.mat`.

- `save('nome_do_arquivo.mat')`: Salva **todas** as variáveis do Workspace atual no arquivo especificado.
- `save('nome_do_arquivo.mat', 'var1', 'var2')`: Salva apenas as variáveis especificadas (`var1` e `var2`).
- `load('nome_do_arquivo.mat')`: Carrega todas as variáveis do arquivo de volta para o Workspace. Se uma variável com o mesmo nome já existir, ela será sobrescrita.
- `clear`: Remove variáveis do Workspace. `clear all` remove tudo.

```matlab
% 1. Crie algumas variáveis
A = [1 2; 3 4];
B = 'Teste';

% 2. Salve apenas a variável A
save('meus_dados.mat', 'A');

% 3. Limpe todo o workspace para simular o fechamento do MATLAB
clear all;

% 4. Carregue os dados de volta
load('meus_dados.mat');

% Agora, a variável A está de volta ao seu Workspace, mas a B não.
```